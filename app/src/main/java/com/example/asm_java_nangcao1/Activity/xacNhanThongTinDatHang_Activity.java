package com.example.asm_java_nangcao1.Activity;import androidx.appcompat.app.AppCompatActivity;import android.app.Dialog;import android.content.Intent;import android.content.SharedPreferences;import android.graphics.Color;import android.graphics.drawable.ColorDrawable;import android.os.Bundle;import android.view.Gravity;import android.view.View;import android.view.Window;import android.view.WindowManager;import android.widget.EditText;import android.widget.ImageView;import android.widget.LinearLayout;import android.widget.TextView;import com.example.asm_java_nangcao1.R;import de.hdodenhof.circleimageview.CircleImageView;public class xacNhanThongTinDatHang_Activity extends AppCompatActivity {    ImageView            XacNhanThongTinDatHang_img_btn_back;    CircleImageView XacNhanThongtiNDatHang_img_avatarUser;    TextView            XacNhanThongTinDatHang_admin_tv_diaChi,            XacNhanThongTinDatHang_admin_tv_ten,            XacNhanThongTinDatHang_admin_tv_soDienThoai,            XacNhanThongTinDatHang_user_tv_diaChi,            XacNhanThongTinDatHang_user_tv_ten,            XacNhanThongTinDatHang_user_tv_soDienThoai,            XacNhanThongTinDatHang_tv_tongTien,            XacNhanThongTinDatHang_tv_nameUserTop;    EditText            XacNhanThongTinDatHang_user_edt_note;    LinearLayout            XacNhanThongTinDatHang_llout_btn_mua;    String giaSanPham, idUser, idgioHangShr, avatarShr, nameShr, userNameShr, passwordShr, diaChiShr, gmailShr, matKhauShr;    int quyenShr, soDienThoaiShr;    private SharedPreferences shareAcout;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_xac_nhan_thong_tin_dat_hang);        anhXa();        getSharepr();        nhanDuLieuIntent();        setDuLieu();        batSuKien();    }    private void setDuLieu() {//        setShr        XacNhanThongTinDatHang_user_tv_diaChi.setText("Địa chỉ: "+diaChiShr);        XacNhanThongTinDatHang_user_tv_ten.setText("Người nhận: "+nameShr);        XacNhanThongTinDatHang_user_tv_soDienThoai.setText("Số điện thoại: 0" + soDienThoaiShr);        XacNhanThongTinDatHang_tv_nameUserTop.setText(nameShr);//        giá sản phẩm        XacNhanThongTinDatHang_tv_tongTien.setText(giaSanPham);    }    /********************lấy dữ liệu từ Sharedpre...**********************/    private void getSharepr() {        shareAcout = getSharedPreferences("AccountSharedPreferences", MODE_PRIVATE);        idUser = shareAcout.getString("key_idUserName", "");        quyenShr = shareAcout.getInt("key_quyen", 0);        idgioHangShr = shareAcout.getString("key_idGioHang", "");        avatarShr = shareAcout.getString("key_avatar", "");        nameShr = shareAcout.getString("key_name", "");        userNameShr = shareAcout.getString("key_userName", "");        passwordShr = shareAcout.getString("key_password", "");        diaChiShr = shareAcout.getString("key_diaChi", "");        soDienThoaiShr = shareAcout.getInt("key_soDienThoai", 0);        gmailShr = shareAcout.getString("key_gmail", "");        matKhauShr = shareAcout.getString("key_password", "");    }    private void batSuKien() {//        xác nhận đặt mua hàng        XacNhanThongTinDatHang_llout_btn_mua.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                xacNhanMuaHang();            }        });//        thoát form        XacNhanThongTinDatHang_img_btn_back.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                Intent intent = new Intent(xacNhanThongTinDatHang_Activity.this, gioHang_Activity.class);                startActivity(intent);            }        });//        XacNhanThongtiNDatHang_img_avatarUser.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                Intent intent = new Intent(xacNhanThongTinDatHang_Activity.this, thongTinUser_Activity.class);                startActivity(intent);            }        });    }    private void xacNhanMuaHang() {        openDialogMuaHang();    }    private void openDialogMuaHang() {        final Dialog dialog = new Dialog(this);        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);        dialog.setContentView(R.layout.dialog_cuttom_xacnhanmua);        Window window = dialog.getWindow();        if (window == null) {            return;        }        window.setLayout(WindowManager.LayoutParams.MATCH_PARENT, WindowManager.LayoutParams.WRAP_CONTENT);        window.setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));        WindowManager.LayoutParams windowAttributes = window.getAttributes();        windowAttributes.gravity = Gravity.CENTER;        window.setAttributes(windowAttributes);//        sử lý khi nhấn ra ngoài thì có thoát hay không        dialog.setCancelable(false);//        khai báo bắt sự kiện        TextView Dialog_them_tvBtn_khong = dialog.findViewById(R.id.dialog_them_tvBtn_khong);        TextView Dialog_them_tvBtn_dongY = dialog.findViewById(R.id.dialog_them_tvBtn_dongY);//        tắt dialog đi        Dialog_them_tvBtn_khong.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                dialog.dismiss();            }        });        Dialog_them_tvBtn_dongY.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                dialog.dismiss();                Intent intent = new Intent(xacNhanThongTinDatHang_Activity.this, datHangThanhCong_Activity.class);                startActivity(intent);            }        });        dialog.show();    }    private void nhanDuLieuIntent() {        Intent intent = getIntent();        Bundle bundle = intent.getExtras();        if (bundle != null) {            giaSanPham = bundle.getString("key_giaSp", "");        }    }    private void anhXa() {//        CircleImageView        XacNhanThongtiNDatHang_img_avatarUser = findViewById(R.id.xacNhanThongtiNDatHang_img_avatarUser);        //        SharedPreferences        shareAcout = getSharedPreferences("AccountSharedPreferences", MODE_PRIVATE);        //   ImageView        XacNhanThongTinDatHang_img_btn_back = findViewById(R.id.xacNhanThongTinDatHang_img_btn_back);        //   TextView        XacNhanThongTinDatHang_tv_nameUserTop = findViewById(R.id.xacNhanThongTinDatHang_tv_nameUserTop);        XacNhanThongTinDatHang_admin_tv_diaChi = findViewById(R.id.xacNhanThongTinDatHang_admin_tv_diaChi);        XacNhanThongTinDatHang_admin_tv_ten = findViewById(R.id.xacNhanThongTinDatHang_admin_tv_ten);        XacNhanThongTinDatHang_admin_tv_soDienThoai = findViewById(R.id.xacNhanThongTinDatHang_admin_tv_soDienThoai);        XacNhanThongTinDatHang_user_tv_diaChi = findViewById(R.id.xacNhanThongTinDatHang_user_tv_diaChi);        XacNhanThongTinDatHang_user_tv_ten = findViewById(R.id.xacNhanThongTinDatHang_user_tv_ten);        XacNhanThongTinDatHang_user_tv_soDienThoai = findViewById(R.id.xacNhanThongTinDatHang_user_tv_soDienThoai);        XacNhanThongTinDatHang_tv_tongTien = findViewById(R.id.xacNhanThongTinDatHang_tv_tongTien);        //    EditText        XacNhanThongTinDatHang_user_edt_note = findViewById(R.id.xacNhanThongTinDatHang_user_edt_note);        //    LinearLayout        XacNhanThongTinDatHang_llout_btn_mua = findViewById(R.id.xacNhanThongTinDatHang_llout_btn_mua);    }}